/* This file was generated by CLiCC 0.6.4 [obrep 1] */
#define __OBREP 1
#include <c_decl.h>
#include "sys.h"
#include "lisp.h"

static void Z118_add(CL_FORM *base, CL_FORM *display[]);

void merge_directories(CL_FORM *base)
{
	CL_FORM *display[1];
	if(CL_CONSP(ARG(0)))
	{
		COPY(GET_CAR(ARG(0)), ARG(3));
	}
	else
	{
		if(CL_TRUEP(ARG(0)))
		{
			LOAD_SMSTR((CL_FORM *)&KClisp[264], ARG(3));	/* ~a is not a list */
			COPY(ARG(0), ARG(4));
			Ferror(ARG(3), 2);
		}
		else
		{
			COPY(ARG(0), ARG(3));
		}
	}
	LOAD_BOOL(CL_SYMBOLP(ARG(3)) && GET_SYMBOL(ARG(3)) == SYMBOL(Slisp, 267), ARG(3));	/* ABSOLUTE */
	if(CL_TRUEP(ARG(3)))
	{
		goto THEN1;
	}
	else
	{
		if(CL_TRUEP(ARG(1)))
		{
			goto ELSE2;
		}
		else
		{
			goto THEN1;
		}
	}
	{
		THEN1:;
	}
	goto ENDIF3;
	{
		ELSE2:;
		LOAD_NIL(ARG(3));
		LOAD_NIL(ARG(4));
		COPY(ARG(1), ARG(5));
		COPY(ARG(2), ARG(6));
		maybe_diddle_case(ARG(5));
		mv_count = 1;
		M1_1:;
		if(CL_ATOMP(ARG(5)))
		{
			LOAD_NIL(ARG(4));
			goto RETURN1;
		}
		COPY(ARG(5), ARG(6));
		COPY(GET_CAR(ARG(6)), ARG(4));
		COPY(ARG(4), ARG(6));
		display[0] = ARG(0);
		Z118_add(ARG(6), display);
		COPY(ARG(5), ARG(6));
		COPY(GET_CDR(ARG(6)), ARG(5));
		goto M1_1;
		RETURN1:;
		LOAD_NIL(ARG(4));
		if(CL_CONSP(ARG(0)))
		{
			COPY(GET_CDR(ARG(0)), ARG(5));
		}
		else
		{
			if(CL_TRUEP(ARG(0)))
			{
				LOAD_SMSTR((CL_FORM *)&KClisp[262], ARG(5));	/* ~a is not a list */
				COPY(ARG(0), ARG(6));
				Ferror(ARG(5), 2);
			}
			else
			{
				COPY(ARG(0), ARG(5));
			}
		}
		M2_1:;
		if(CL_ATOMP(ARG(5)))
		{
			LOAD_NIL(ARG(4));
			goto RETURN2;
		}
		COPY(ARG(5), ARG(6));
		COPY(GET_CAR(ARG(6)), ARG(4));
		COPY(ARG(4), ARG(6));
		display[0] = ARG(0);
		Z118_add(ARG(6), display);
		COPY(ARG(5), ARG(6));
		COPY(GET_CDR(ARG(6)), ARG(5));
		goto M2_1;
		RETURN2:;
		COPY(ARG(3), ARG(0));
		Freverse(ARG(0));
	}
	ENDIF3:;
}

static void Z118_add(CL_FORM *base, CL_FORM *display[])
{
	if(CL_SYMBOLP(ARG(0)) && GET_SYMBOL(ARG(0)) == SYMBOL(Slisp, 268))	/* BACK */
	{
		if(CL_TRUEP(&display[0][3]))
		{
			COPY(GET_CAR(&display[0][3]), ARG(1));
			LOAD_BOOL(CL_SYMBOLP(ARG(1)) && GET_SYMBOL(ARG(1)) == SYMBOL(Slisp, 268), ARG(1));	/* BACK */
			if(CL_TRUEP(ARG(1)))
			{
				goto ELSE1;
			}
			else
			{
				goto THEN2;
			}
		}
		else
		{
			goto ELSE1;
		}
	}
	else
	{
		goto ELSE1;
	}
	{
		THEN2:;
		if(CL_CONSP(&display[0][3]))
		{
			COPY(GET_CAR(&display[0][3]), ARG(1));
		}
		else
		{
			if(CL_TRUEP(&display[0][3]))
			{
				LOAD_SMSTR((CL_FORM *)&KClisp[264], ARG(1));	/* ~a is not a list */
				COPY(&display[0][3], ARG(2));
				Ferror(ARG(1), 2);
			}
			else
			{
				COPY(&display[0][3], ARG(1));
			}
		}
		COPY(&display[0][3], ARG(2));
		COPY(ARG(2), ARG(3));
		if(CL_CONSP(ARG(3)))
		{
			COPY(GET_CDR(ARG(3)), &display[0][3]);
		}
		else
		{
			COPY(ARG(3), &display[0][3]);
		}
		COPY(ARG(1), ARG(0));
	}
	goto ENDIF3;
	{
		ELSE1:;
		ALLOC_CONS(ARG(2), ARG(0), &display[0][3], &display[0][3]);
		COPY(&display[0][3], ARG(0));
	}
	ENDIF3:;
}
